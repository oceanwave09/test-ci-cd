{
  "parser_settings": {
    "version": "omni.2.1",
    "file_format_type": "fixedlength2"
  },
  "file_declaration": {
    "envelopes": [
      {
        "columns": [
          { "name": "CUR_CLM_UNIQ_ID", "start_pos": 1, "length": 13 },
          { "name": "BENE_MBI_ID", "start_pos": 14, "length": 11 },
          { "name": "BENE_HIC_NUM", "start_pos": 25, "length": 11 },
          { "name": "CLM_TYPE_CD", "start_pos": 36, "length": 2 },
          { "name": "CLM_ACTV_CARE_FROM_DT", "start_pos": 38, "length": 10 },
          { "name": "CLM_NGACO_PBPMT_SW", "start_pos": 48, "length": 1 },
          { "name": "CLM_NGACO_PDSCHRG_HCBS_SW", "start_pos": 49, "length": 1 },
          { "name": "CLM_NGACO_SNF_WVR_SW", "start_pos": 50, "length": 1 },
          { "name": "CLM_NGACO_TLHLTH_SW", "start_pos": 51, "length": 1 },
          { "name": "CLM_NGACO_CPTATN_SW", "start_pos": 52, "length": 1 },
          { "name": "CLM_DEMO_1ST_NUM", "start_pos": 53, "length": 2 },
          { "name": "CLM_DEMO_2ND_NUM", "start_pos": 55, "length": 2 },
          { "name": "CLM_DEMO_3RD_NUM", "start_pos": 57, "length": 2 },
          { "name": "CLM_DEMO_4TH_NUM", "start_pos": 59, "length": 2 },
          { "name": "CLM_DEMO_5TH_NUM", "start_pos": 61, "length": 2 },
          { "name": "CLM_PBP_INCLSN_AMT", "start_pos": 63, "length": 19 },
          { "name": "CLM_PBP_RDCTN_AMT", "start_pos": 82, "length": 19 },
          { "name": "CLM_NGACO_CMG_WVR_SW", "start_pos": 101, "length": 1 },
          { "name": "CLM_INSTNL_PER_DIEM_AMT", "start_pos": 102, "length": 19 },
          {
            "name": "CLM_MDCR_IP_BENE_DDCTBL_AMT",
            "start_pos": 121,
            "length": 15
          },
          { "name": "CLM_MDCR_COINSRNC_AMT", "start_pos": 136, "length": 19 },
          { "name": "CLM_BLOOD_LBLTY_AMT", "start_pos": 155, "length": 15 },
          { "name": "CLM_INSTNL_PRFNL_AMT", "start_pos": 170, "length": 15 },
          { "name": "CLM_NCVRD_CHRG_AMT", "start_pos": 185, "length": 19 },
          { "name": "CLM_MDCR_DDCTBL_AMT", "start_pos": 204, "length": 19 },
          { "name": "CLM_RLT_COND_CD", "start_pos": 223, "length": 2 },
          { "name": "CLM_OPRTNL_OUTLR_AMT", "start_pos": 225, "length": 19 },
          { "name": "CLM_MDCR_NEW_TECH_AMT", "start_pos": 244, "length": 19 },
          { "name": "CLM_ISLET_ISOLN_AMT", "start_pos": 263, "length": 19 },
          { "name": "CLM_SQSTRTN_RDCTN_AMT", "start_pos": 282, "length": 19 },
          {
            "name": "CLM_1_REV_CNTR_ANSI_RSN_CD",
            "start_pos": 301,
            "length": 3
          },
          {
            "name": "CLM_1_REV_CNTR_ANSI_GRP_CD",
            "start_pos": 304,
            "length": 2
          },
          { "name": "CLM_MIPS_PMT_AMT", "start_pos": 306, "length": 19 }
        ]
      }
    ]
  },
  "transform_declarations": {
    "FINAL_OUTPUT": {
      "object": {
        "row_id": { "template": "uuidv4" },
        "cur_clm_uniq_id": { "xpath": "CUR_CLM_UNIQ_ID", "type": "int" },
        "bene_mbi_id": {
          "custom_func": {
            "name": "encryptAesEcb",
            "args": [
              {
                "external": "data_key"
              },
              {
                "xpath": "BENE_MBI_ID",
                "template": "remove_special_char"
              }
            ]
          }
        },
        "bene_hic_num": {
          "custom_func": {
            "name": "encryptAesEcb",
            "args": [
              {
                "external": "data_key"
              },
              {
                "xpath": "BENE_HIC_NUM",
                "template": "remove_special_char"
              }
            ]
          }
        },
        "clm_type_cd": { "xpath": "CLM_TYPE_CD", "type": "int" },
        "clm_actv_care_from_dt": {
          "xpath": "CLM_ACTV_CARE_FROM_DT",
          "template": "remove_special_char"
        },
        "clm_ngaco_pbpmt_sw": {
          "xpath": "CLM_NGACO_PBPMT_SW",
          "template": "remove_special_char"
        },
        "clm_ngaco_pdschrg_hcbs_sw": {
          "xpath": "CLM_NGACO_PDSCHRG_HCBS_SW",
          "template": "remove_special_char"
        },
        "clm_ngaco_snf_wvr_sw": {
          "xpath": "CLM_NGACO_SNF_WVR_SW",
          "template": "remove_special_char"
        },
        "clm_ngaco_tlhlth_sw": {
          "xpath": "CLM_NGACO_TLHLTH_SW",
          "template": "remove_special_char"
        },
        "clm_ngaco_cptatn_sw": {
          "xpath": "CLM_NGACO_CPTATN_SW",
          "template": "remove_special_char"
        },
        "clm_demo_1st_num": {
          "xpath": "CLM_DEMO_1ST_NUM",
          "template": "remove_special_char"
        },
        "clm_demo_2nd_num": {
          "xpath": "CLM_DEMO_2ND_NUM",
          "template": "remove_special_char"
        },
        "clm_demo_3rd_num": {
          "xpath": "CLM_DEMO_3RD_NUM",
          "template": "remove_special_char"
        },
        "clm_demo_4th_num": {
          "xpath": "CLM_DEMO_4TH_NUM",
          "template": "remove_special_char"
        },
        "clm_demo_5th_num": {
          "xpath": "CLM_DEMO_5TH_NUM",
          "template": "remove_special_char"
        },
        "clm_pbp_inclsn_amt": {
          "xpath": "CLM_PBP_INCLSN_AMT",
          "type": "float"
        },
        "clm_pbp_rdctn_amt": { "xpath": "CLM_PBP_RDCTN_AMT", "type": "float" },
        "clm_ngaco_cmg_wvr_sw": {
          "xpath": "CLM_NGACO_CMG_WVR_SW",
          "template": "remove_special_char"
        },
        "clm_instnl_per_diem_amt": {
          "xpath": "CLM_INSTNL_PER_DIEM_AMT",
          "type": "float"
        },
        "clm_mdcr_ip_bene_ddctbl_amt": {
          "xpath": "CLM_MDCR_IP_BENE_DDCTBL_AMT",
          "type": "float"
        },
        "clm_mdcr_coinsrnc_amt": {
          "xpath": "CLM_MDCR_COINSRNC_AMT",
          "type": "float"
        },
        "clm_blood_lblty_amt": {
          "xpath": "CLM_BLOOD_LBLTY_AMT",
          "type": "float"
        },
        "clm_instnl_prfnl_amt": {
          "xpath": "CLM_INSTNL_PRFNL_AMT",
          "type": "float"
        },
        "clm_ncvrd_chrg_amt": {
          "xpath": "CLM_NCVRD_CHRG_AMT",
          "type": "float"
        },
        "clm_mdcr_ddctbl_amt": {
          "xpath": "CLM_MDCR_DDCTBL_AMT",
          "type": "float"
        },
        "clm_rlt_cond_cd": {
          "xpath": "CLM_RLT_COND_CD",
          "template": "remove_special_char"
        },
        "clm_oprtnl_outlr_amt": {
          "xpath": "CLM_OPRTNL_OUTLR_AMT",
          "type": "float"
        },
        "clm_mdcr_new_tech_amt": {
          "xpath": "CLM_MDCR_NEW_TECH_AMT",
          "type": "float"
        },
        "clm_islet_isoln_amt": {
          "xpath": "CLM_ISLET_ISOLN_AMT",
          "type": "float"
        },
        "clm_sqstrtn_rdctn_amt": {
          "xpath": "CLM_SQSTRTN_RDCTN_AMT",
          "type": "float"
        },
        "clm_1_rev_cntr_ansi_rsn_cd": {
          "xpath": "CLM_1_REV_CNTR_ANSI_RSN_CD",
          "template": "remove_special_char"
        },
        "clm_1_rev_cntr_ansi_grp_cd": {
          "xpath": "CLM_1_REV_CNTR_ANSI_GRP_CD",
          "template": "remove_special_char"
        },
        "clm_mips_pmt_amt": { "xpath": "CLM_MIPS_PMT_AMT", "type": "float" }
      }
    },
    "uuidv4": {
      "custom_func": {
        "name": "javascript_with_context",
        "args": [
          {
            "const": "var date_time = new Date().getTime(); var row_uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(param) {  var generate_id = (date_time + Math.random()*16)%16 | 0; date_time = Math.floor(date_time/16); return (param =='x' ? generate_id : (generate_id&0x3|0x8)).toString(16);}); row_uuid"
          }
        ],
        "ignore_error": true
      }
    },
    "remove_special_char": {
      "custom_func": {
        "name": "javascript_with_context",
        "args": [
          {
            "const": "var get_value = JSON.parse(_node); get_value.replace(/^~|~$/g, '')"
          }
        ],
        "ignore_error": false
      }
    }
  }
}
